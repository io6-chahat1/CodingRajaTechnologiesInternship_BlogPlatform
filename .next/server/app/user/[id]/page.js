(()=>{var e={};e.id=805,e.ids=[805],e.modules={46517:e=>{"use strict";e.exports=require("lodash")},59283:e=>{"use strict";e.exports=require("lodash/at")},20770:e=>{"use strict";e.exports=require("lodash/clone")},39131:e=>{"use strict";e.exports=require("lodash/compact")},48390:e=>{"use strict";e.exports=require("lodash/extend")},9368:e=>{"use strict";e.exports=require("lodash/filter")},22265:e=>{"use strict";e.exports=require("lodash/first")},41238:e=>{"use strict";e.exports=require("lodash/includes")},35599:e=>{"use strict";e.exports=require("lodash/isArray")},89699:e=>{"use strict";e.exports=require("lodash/isEmpty")},25716:e=>{"use strict";e.exports=require("lodash/isFunction")},27078:e=>{"use strict";e.exports=require("lodash/isNumber")},75795:e=>{"use strict";e.exports=require("lodash/isObject")},15452:e=>{"use strict";e.exports=require("lodash/isPlainObject")},97026:e=>{"use strict";e.exports=require("lodash/isString")},22133:e=>{"use strict";e.exports=require("lodash/isUndefined")},83824:e=>{"use strict";e.exports=require("lodash/last")},53707:e=>{"use strict";e.exports=require("lodash/map")},11516:e=>{"use strict";e.exports=require("lodash/take")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},24646:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var r=t(50482),a=t(69108),i=t(62563),l=t.n(i),n=t(68300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let c=["",{children:["user",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9993)),"C:\\Users\\prena\\OneDrive\\Desktop\\CodingRajaTechnologiesInternship_BloggingPlatform\\app\\user\\[id]\\page.jsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,78753)),"C:\\Users\\prena\\OneDrive\\Desktop\\CodingRajaTechnologiesInternship_BloggingPlatform\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.bind(t,98211)),"C:\\Users\\prena\\OneDrive\\Desktop\\CodingRajaTechnologiesInternship_BloggingPlatform\\app\\not-found.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\prena\\OneDrive\\Desktop\\CodingRajaTechnologiesInternship_BloggingPlatform\\app\\user\\[id]\\page.jsx"],u="/user/[id]/page",h={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/user/[id]/page",pathname:"/user/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},45732:(e,s,t)=>{let r={"2af1a569518e524156e643305108c943c5ac35da":()=>Promise.resolve().then(t.bind(t,24780)).then(e=>e.deleteManyPhotos),"9dfe61e4d8e89188e579964f65b015772d2fa583":()=>Promise.resolve().then(t.bind(t,24780)).then(e=>e.deletePhoto)};async function a(e,...s){return(await r[e]()).apply(null,s)}e.exports={"2af1a569518e524156e643305108c943c5ac35da":a.bind(null,"2af1a569518e524156e643305108c943c5ac35da"),"9dfe61e4d8e89188e579964f65b015772d2fa583":a.bind(null,"9dfe61e4d8e89188e579964f65b015772d2fa583")}},30182:(e,s,t)=>{Promise.resolve().then(t.bind(t,75699)),Promise.resolve().then(t.bind(t,10339))},17022:(e,s,t)=>{Promise.resolve().then(t.bind(t,41656))},72392:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2583,23)),Promise.resolve().then(t.t.bind(t,26840,23)),Promise.resolve().then(t.t.bind(t,38771,23)),Promise.resolve().then(t.t.bind(t,13225,23)),Promise.resolve().then(t.t.bind(t,9295,23)),Promise.resolve().then(t.t.bind(t,43982,23))},69265:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,61476,23))},38711:(e,s,t)=>{"use strict";t.d(s,{J:()=>a}),t(13664);var r=t(28371);(0,r.$)("2af1a569518e524156e643305108c943c5ac35da");var a=(0,r.$)("9dfe61e4d8e89188e579964f65b015772d2fa583")},75699:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(95344),a=t(47674);let i=({children:e,session:s})=>r.jsx(a.SessionProvider,{session:s,children:e})},41656:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>A});var r=t(95344),a=t(3729),i=t(8428),l=t(47674),n=t(89410),o=t(77030),c=t.n(o);let d=({children:e,modalOpen:s,setModalOpen:t})=>r.jsx("div",{children:s&&r.jsx("div",{className:"bg-black/50 fixed inset-0",children:r.jsx("div",{className:"flex justify-center items-center h-full",children:(0,r.jsxs)("div",{className:"max-h-[90%] md:max-w-lg overflow-auto flex flex-col items-end bg-secondaryColor p-5",children:[r.jsx("button",{onClick:()=>t(!1),className:"text-2xl mb-3",children:"\xd7"}),e]})})})});var u=t(38711),h=t(91276),p=t(61261),x=t(90981);let A=({profile:e,params:s})=>{let[t,o]=(0,a.useState)(e),[A,m]=(0,a.useState)(""),[g,f]=(0,a.useState)(!1),[j,v]=(0,a.useState)(!1),[b,y]=(0,a.useState)(!1),[C,P]=(0,a.useState)(""),[w,N]=(0,a.useState)(""),[_,q]=(0,a.useState)(!1),{data:E,status:D}=(0,l.useSession)(),k=(0,i.useRouter)(),S=async r=>{r.preventDefault(),P("");let{name:a,about:i,designation:l,age:n,location:o}=t;if(!a){P("Name is required.");return}if(A&&A.size>2097152){P("File size is too large. Please select a file under 2MB.");return}try{let t;y(!0),P(""),N(""),A?(t=await U(),e?.avatar?.id&&await (0,u.J)(e?.avatar?.id)):t=e?.avatar;let r={name:a,about:i,designation:l,age:n,location:o,avatar:t},c=await fetch(`http://localhost:3000/api/user/${s.id}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${E?.user?.accessToken}`},method:"PATCH",body:JSON.stringify(r)});c?.status===200?N("User updated successfully."):P("Error occurred while updating user.")}catch(e){console.log(e),P("Error occurred while updating user.")}finally{N(""),P(""),y(!1),f(!1),m(""),k.refresh()}},U=async()=>{if(!A)return;let e=new FormData;e.append("file",A),e.append("upload_preset","nextjs_blog_images");try{let s=await fetch("https://api.cloudinary.com/v1_1/dycn5ws3u/image/upload",{method:"POST",body:e}),t=await s.json();return{id:t.public_id,url:t.secure_url}}catch(e){console.log(e)}},M=e=>{P("");let{name:s,value:t,type:r,files:a}=e.target;"file"===r?m(a[0]):o(e=>({...e,[s]:t}))};return e?(0,r.jsxs)("div",{className:"p-3 my-5 container",children:[r.jsx("div",{className:"text-center text-primaryColor pb-20",children:r.jsx("h2",{children:"Profile"})}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-5",children:[(0,r.jsxs)("div",{className:"flex-1 space-y-3",children:[r.jsx("h4",{className:"text-xl",children:"About Me"}),r.jsx("p",{children:e?.about})]}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsx(n.default,{src:e?.avatar?.url||p.default,alt:"avatar",width:0,height:0,sizes:"100vw",className:"w-40 h-40 rounded-full border-2 border-black"})}),(0,r.jsxs)("div",{className:"flex-1 space-y-3",children:[r.jsx("h4",{className:"text-xl",children:"Details"}),(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("p",{children:"Email:"}),r.jsx("p",{children:e?.email})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("p",{children:"Name:"}),r.jsx("p",{children:e?.name})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("p",{children:"Age:"}),r.jsx("p",{children:e?.age})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("p",{children:"Location:"}),r.jsx("p",{children:e?.location})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("p",{children:"Joined:"}),r.jsx("p",{children:(()=>{let s=e?.createdAt;return c()(s).format("MMMM Do YYYY")})()})]})]})]}),(0,r.jsxs)("div",{className:"pt-5",children:[e?._id===E?.user?._id&&r.jsx("button",{className:"text-primaryColor mr-3",onClick:()=>f(!0),children:"Edit"}),r.jsx(d,{modalOpen:g,setModalOpen:f,children:(0,r.jsxs)("form",{className:"w-full space-y-3",onSubmit:S,children:[r.jsx("h2",{className:"text-2xl text-primaryColor pb-3",children:"Profile"}),A?(0,r.jsxs)("div",{className:"flex justify-center items-start",children:[r.jsx(n.default,{src:URL.createObjectURL(A),alt:"avatar",width:0,height:0,sizes:"100vw",className:"w-20 h-20 rounded-full border-2 border-black"}),r.jsx("button",{className:"text-red-500",onClick:()=>{m("")},children:r.jsx(x.oHP,{})})]}):r.jsx("div",{className:"flex justify-center",children:e?.avatar&&e?.avatar.url&&r.jsx("div",{children:r.jsx(n.default,{src:e?.avatar?.url,alt:"avatar",width:0,height:0,sizes:"100vw",className:"w-20 h-20 rounded-full border-2 border-black"})})}),r.jsx("div",{children:r.jsx("input",{onChange:M,type:"file",name:"newImage",accept:"image/*",className:"block w-full border border-gray-300 rounded-lg"})}),r.jsx(h.Z,{name:"name",type:"text",placeholder:"name",value:t?.name||"",onChange:M}),r.jsx(h.Z,{name:"designation",type:"text",placeholder:"designation",value:t?.designation||"",onChange:M}),r.jsx(h.Z,{name:"about",type:"text",placeholder:"about",value:t?.about||"",onChange:M}),r.jsx(h.Z,{name:"age",type:"text",placeholder:"age",value:t?.age||"",onChange:M}),r.jsx(h.Z,{name:"location",type:"text",placeholder:"location",value:t?.location||"",onChange:M}),C&&r.jsx("div",{className:"text-red-700",children:C}),w&&r.jsx("div",{className:"text-green-700",children:w}),(0,r.jsxs)("div",{className:"space-x-5",children:[r.jsx("button",{type:"submit",className:"btn",children:b?"Loading...":"Update"}),r.jsx("button",{className:"btn bg-red-700",onClick:()=>f(!1),children:"Cancle"})]})]})})]})]}):r.jsx("p",{children:"Access Denied."})}},91276:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(95344);t(3729);let a=({type:e,value:s,onChange:t,name:a,label:i,placeholder:l})=>(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("label",{children:i}),r.jsx("input",{type:e,value:s,onChange:t,name:a,placeholder:l,className:"w-full bg-primaryColorLight p-3 rounded-lg"})]})},10339:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var r=t(95344),a=t(3729),i=t(56506),l=t(89410),n=t(61261),o=t(90981),c=t(8428),d=t(47674);let u=()=>{let[e,s]=(0,a.useState)({}),{data:t,status:u}=(0,d.useSession)(),h=(0,c.usePathname)(),[p,x]=(0,a.useState)(!1);async function A(){try{let e=await fetch(`http://localhost:3000/api/user/${t?.user?._id}`),r=await e.json();s(r)}catch(e){console.log(e)}}(0,a.useEffect)(()=>{A()},[t?.user?._id]);let m=()=>x(e=>!1);return(0,r.jsxs)("div",{className:"container py-2 h-16 flex items-center justify-between",children:[r.jsx(i.default,{href:"/",children:(0,r.jsxs)("h2",{children:["Chahat ",r.jsx("span",{className:"special-word",children:"Blog."})]})}),(0,r.jsxs)("ul",{className:"flex items-center gap-3",children:[r.jsx("li",{children:r.jsx(i.default,{href:"/blog",className:"/blog"===h?"text-primaryColor font-bold":"",children:"Blog"})}),t?.user?(0,r.jsxs)(r.Fragment,{children:[r.jsx("li",{children:r.jsx(i.default,{href:"/create-blog",className:"/create-blog"===h?"text-primaryColor font-bold":"",children:"Create"})}),r.jsx("li",{children:(0,r.jsxs)("div",{className:"relative",children:[r.jsx(l.default,{onClick:()=>x(e=>!0),src:e?.avatar?.url?e?.avatar?.url:n.default,alt:"avatar",width:0,height:0,sizes:"100vw",className:"w-10 h-10 rounded-full cursor-pointer"}),p&&(0,r.jsxs)("div",{className:"absolute top-0 right-0 bg-primaryColorLight p-5",children:[r.jsx(o.oHP,{onClick:m,className:"w-full cursor-pointer"}),r.jsx("button",{onClick:()=>{(0,d.signOut)(),m()},children:"Logout"}),r.jsx(i.default,{onClick:m,href:`/user/${t?.user?._id.toString()}`,children:"Profile"})]})]})})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("li",{children:r.jsx(i.default,{href:"/login",className:"/login"===h?"text-primaryColor font-bold":"",children:"Log In"})}),r.jsx("li",{children:r.jsx(i.default,{href:"/signup",className:"/signup"===h?"text-primaryColor font-bold":"",children:"Sign Up"})})]})]})]})}},24780:(e,s,t)=>{"use strict";t.r(s),t.d(s,{deleteManyPhotos:()=>o,deletePhoto:()=>n});var r=t(98601);t(75811);var a=t(86976),i=t.n(a),l=t(46893);async function n(e){try{return await i().v2.uploader.destroy(e)}catch(e){return console.log(e),{errMessage:e.message}}}async function o(e){try{return await Promise.all(e.map(async e=>{let s=e.id;try{let e=await i().v2.uploader.destroy(s);return{public_id:s,result:e}}catch(e){return console.log(e),{errMessage:e.message}}}))}catch(e){return console.log(e),{errMessage:e.message}}}i().config({cloud_name:process.env.CLOUD_NAME,api_key:process.env.CLOUD_API_KEY,api_secret:process.env.CLOUD_API_SECRET}),(0,l.ensureServerEntryExports)([n,o]),(0,r.createActionProxy)("9dfe61e4d8e89188e579964f65b015772d2fa583",n),(0,r.createActionProxy)("2af1a569518e524156e643305108c943c5ac35da",o)},78753:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g,metadata:()=>m});var r=t(25036),a=t(52842),i=t.n(a);t(67272);var l=t(86843);let n=(0,l.createProxy)(String.raw`C:\Users\prena\OneDrive\Desktop\CodingRajaTechnologiesInternship_BloggingPlatform\components\Navbar.jsx`),{__esModule:o,$$typeof:c}=n,d=n.default;t(40002);let u=()=>(0,r.jsxs)("div",{className:"py-10 text-center",children:["Copyright \xa9 2024 All rights reserved.",r.jsx("br",{}),"This website is made with ♡ by Chahat Rajput."]}),h=(0,l.createProxy)(String.raw`C:\Users\prena\OneDrive\Desktop\CodingRajaTechnologiesInternship_BloggingPlatform\app\AuthProvider.js`),{__esModule:p,$$typeof:x}=h,A=h.default,m={title:"Blog Platform",description:"Generated by create next app"};function g({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:i().className,children:(0,r.jsxs)(A,{children:[r.jsx(d,{}),e,r.jsx(u,{})]})})})}},98211:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(25036);t(40002);var a=t(16274);let i=()=>(0,r.jsxs)("div",{className:"container h-screen flex flex-col gap-5 justify-center items-center",children:[r.jsx("h2",{children:"Not Found"}),r.jsx("p",{children:"Could not find requested resource"}),r.jsx(a.default,{href:"/",children:"Return Home"})]})},9993:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var r=t(25036);t(40002);let a=(0,t(86843).createProxy)(String.raw`C:\Users\prena\OneDrive\Desktop\CodingRajaTechnologiesInternship_BloggingPlatform\app\user\[id]\ProfileDetails.jsx`),{__esModule:i,$$typeof:l}=a,n=a.default;async function o(e){let s=await fetch(`http://localhost:3000/api/user/${e.id}`,{cache:"no-store"});if(!s.ok)throw Error("Failed to fetch data");return s.json()}let c=async({params:e})=>{let s=await o(e);return r.jsx("div",{children:r.jsx(n,{profile:s,params:e})})}},61261:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r={src:"/_next/static/media/demo_image.b782db56.jpg",height:400,width:600,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAUACAMBIgACEQEDEQH/xAAnAAEBAAAAAAAAAAAAAAAAAAAABwEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAAo4P/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/9oACAEBAAE/AH//xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oACAECAQE/AH//xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oACAEDAQE/AH//2Q==",blurWidth:8,blurHeight:5}},57481:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(70337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},67272:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[638,223,752,30],()=>t(24646));module.exports=r})();