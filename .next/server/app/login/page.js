(()=>{var e={};e.id=626,e.ids=[626],e.modules={67096:e=>{"use strict";e.exports=require("bcrypt")},11185:e=>{"use strict";e.exports=require("mongoose")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},71704:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>A,tree:()=>c});var s=r(50482),n=r(69108),a=r(62563),i=r.n(a),o=r(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,89606)),"C:\\Users\\prena\\OneDrive\\Desktop\\CodingRajaTechnologiesInternship_BloggingPlatform\\app\\login\\page.jsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,78753)),"C:\\Users\\prena\\OneDrive\\Desktop\\CodingRajaTechnologiesInternship_BloggingPlatform\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,98211)),"C:\\Users\\prena\\OneDrive\\Desktop\\CodingRajaTechnologiesInternship_BloggingPlatform\\app\\not-found.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\prena\\OneDrive\\Desktop\\CodingRajaTechnologiesInternship_BloggingPlatform\\app\\login\\page.jsx"],u="/login/page",p={require:r,loadChunk:()=>Promise.resolve()},A=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},30182:(e,t,r)=>{Promise.resolve().then(r.bind(r,75699)),Promise.resolve().then(r.bind(r,10339))},22165:(e,t,r)=>{Promise.resolve().then(r.bind(r,69367))},72392:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,26840,23)),Promise.resolve().then(r.t.bind(r,38771,23)),Promise.resolve().then(r.t.bind(r,13225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,43982,23))},69265:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,61476,23))},75699:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(95344),n=r(47674);let a=({children:e,session:t})=>s.jsx(n.SessionProvider,{session:t,children:e})},91276:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(95344);r(3729);let n=({type:e,value:t,onChange:r,name:n,label:a,placeholder:i})=>(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{children:a}),s.jsx("input",{type:e,value:t,onChange:r,name:n,placeholder:i,className:"w-full bg-primaryColorLight p-3 rounded-lg"})]})},69367:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(95344),n=r(3729),a=r(91276),i=r(56506),o=r(8428),l=r(47674);let c={name:"",email:"",password:""},d=()=>{let[e,t]=(0,n.useState)(!1),[r,d]=(0,n.useState)(c),[u,p]=(0,n.useState)(""),[A,g]=(0,n.useState)(""),[h,x]=(0,n.useState)(!1),m=(0,o.useRouter)();if((0,n.useEffect)(()=>{t(!0)},[]),!e)return null;let f=e=>{p(""),d({...r,[e.target.name]:e.target.value})},v=async e=>{e.preventDefault();let{email:t,password:s}=r;if(!t||!s){p("All fields are required");return}if(!/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(t)){p("Please enter a valid email address.");return}if(s.length<6){p("Password must be at least 6 characters long.");return}try{x(!0);let e=await (0,l.signIn)("credentials",{email:t,password:s,redirect:!1});if(e?.error){p("Invalid Credentials"),x(!1);return}m.push("/blog")}catch(e){console.log(e)}x(!1)};return s.jsx("section",{className:"container",children:(0,s.jsxs)("form",{onSubmit:v,className:"border-2 border-paragraphColor rounded-lg max-w-sm mx-auto px-8 py-6 space-y-5",children:[s.jsx("h2",{className:"text-center special-word",children:"Login"}),s.jsx(a.Z,{label:"Email",type:"text",name:"email",onChange:f,value:r.email}),s.jsx(a.Z,{label:"Password",type:"password",name:"password",onChange:f,value:r.password}),u&&s.jsx("div",{className:"text-red-700",children:u}),A&&s.jsx("div",{className:"text-green-700",children:A}),s.jsx("button",{type:"submit",className:"btn w-full",children:h?"Loading...":"Login"}),(0,s.jsxs)("p",{className:"text-center",children:["Need an account?"," ",s.jsx(i.default,{href:"/signup",className:"text-primaryColor",children:"Sign Up"})]})]})})}},10339:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(95344),n=r(3729),a=r(56506),i=r(89410),o=r(61261),l=r(90981),c=r(8428),d=r(47674);let u=()=>{let[e,t]=(0,n.useState)({}),{data:r,status:u}=(0,d.useSession)(),p=(0,c.usePathname)(),[A,g]=(0,n.useState)(!1);async function h(){try{let e=await fetch(`http://localhost:3000/api/user/${r?.user?._id}`),s=await e.json();t(s)}catch(e){console.log(e)}}(0,n.useEffect)(()=>{h()},[r?.user?._id]);let x=()=>g(e=>!1);return(0,s.jsxs)("div",{className:"container py-2 h-16 flex items-center justify-between",children:[s.jsx(a.default,{href:"/",children:(0,s.jsxs)("h2",{children:["Chahat ",s.jsx("span",{className:"special-word",children:"Blog."})]})}),(0,s.jsxs)("ul",{className:"flex items-center gap-3",children:[s.jsx("li",{children:s.jsx(a.default,{href:"/blog",className:"/blog"===p?"text-primaryColor font-bold":"",children:"Blog"})}),r?.user?(0,s.jsxs)(s.Fragment,{children:[s.jsx("li",{children:s.jsx(a.default,{href:"/create-blog",className:"/create-blog"===p?"text-primaryColor font-bold":"",children:"Create"})}),s.jsx("li",{children:(0,s.jsxs)("div",{className:"relative",children:[s.jsx(i.default,{onClick:()=>g(e=>!0),src:e?.avatar?.url?e?.avatar?.url:o.default,alt:"avatar",width:0,height:0,sizes:"100vw",className:"w-10 h-10 rounded-full cursor-pointer"}),A&&(0,s.jsxs)("div",{className:"absolute top-0 right-0 bg-primaryColorLight p-5",children:[s.jsx(l.oHP,{onClick:x,className:"w-full cursor-pointer"}),s.jsx("button",{onClick:()=>{(0,d.signOut)(),x()},children:"Logout"}),s.jsx(a.default,{onClick:x,href:`/user/${r?.user?._id.toString()}`,children:"Profile"})]})]})})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("li",{children:s.jsx(a.default,{href:"/login",className:"/login"===p?"text-primaryColor font-bold":"",children:"Log In"})}),s.jsx("li",{children:s.jsx(a.default,{href:"/signup",className:"/signup"===p?"text-primaryColor font-bold":"",children:"Sign Up"})})]})]})]})}},40092:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GET:()=>p,POST:()=>p,authOptions:()=>u});var s=r(81355),n=r.n(s),a=r(86485),i=r(67096),o=r.n(i),l=r(87786),c=r(62878),d=r(68571);let u={providers:[(0,a.Z)({type:"credentials",credentials:{},async authorize(e){await (0,c.$)();let{email:t,password:r}=e;try{let e=await l.Z.findOne({email:t});if(!e)throw Error("Invalid input");if(await o().compare(r,e.password)){let{password:t,...r}=e._doc,s=(0,d.f)(r,{expiresIn:"7d"});return{...r,accessToken:s}}throw Error("Passwords do not match")}catch(e){console.log(e)}}})],pages:{signIn:"/login"},secret:process.env.NEXTAUTH_SECRET,callbacks:{jwt:async({token:e,user:t})=>(t&&(e.accessToken=t.accessToken,e._id=t._id),e),session:async({session:e,token:t})=>(t&&(e.user._id=t._id,e.user.accessToken=t.accessToken),e)}},p=n()(u)},78753:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m,metadata:()=>x});var s=r(25036),n=r(52842),a=r.n(n);r(67272);var i=r(86843);let o=(0,i.createProxy)(String.raw`C:\Users\prena\OneDrive\Desktop\CodingRajaTechnologiesInternship_BloggingPlatform\components\Navbar.jsx`),{__esModule:l,$$typeof:c}=o,d=o.default;r(40002);let u=()=>(0,s.jsxs)("div",{className:"py-10 text-center",children:["Copyright \xa9 2024 All rights reserved.",s.jsx("br",{}),"This website is made with â™¡ by Chahat Rajput."]}),p=(0,i.createProxy)(String.raw`C:\Users\prena\OneDrive\Desktop\CodingRajaTechnologiesInternship_BloggingPlatform\app\AuthProvider.js`),{__esModule:A,$$typeof:g}=p,h=p.default,x={title:"Blog Platform",description:"Generated by create next app"};function m({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:a().className,children:(0,s.jsxs)(h,{children:[s.jsx(d,{}),e,s.jsx(u,{})]})})})}},89606:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(25036);r(40002);let n=(0,r(86843).createProxy)(String.raw`C:\Users\prena\OneDrive\Desktop\CodingRajaTechnologiesInternship_BloggingPlatform\components\LoginForm.jsx`),{__esModule:a,$$typeof:i}=n,o=n.default;var l=r(81355),c=r(867),d=r(40092);let u=async()=>(await (0,l.getServerSession)(d.authOptions)&&(0,c.redirect)("/blog"),s.jsx("div",{children:s.jsx(o,{})}))},98211:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(25036);r(40002);var n=r(16274);let a=()=>(0,s.jsxs)("div",{className:"container h-screen flex flex-col gap-5 justify-center items-center",children:[s.jsx("h2",{children:"Not Found"}),s.jsx("p",{children:"Could not find requested resource"}),s.jsx(n.default,{href:"/",children:"Return Home"})]})},62878:(e,t,r)=>{"use strict";r.d(t,{$:()=>a});var s=r(11185),n=r.n(s);async function a(){try{n().connect(process.env.MONGODB_URL);let e=n().connection;e.on("connected",()=>{console.log("MongoDB connected successfully")}),e.on("error",e=>{console.log("MongoDB connection error. Please make sure MongoDB is running. "+e),process.exit()})}catch(e){console.log("Something goes wrong!"),console.log(e)}}},68571:(e,t,r)=>{"use strict";r.d(t,{f:()=>a,s:()=>i});var s=r(46082),n=r.n(s);function a(e,t={}){let r=process.env.JWT_SECRET;return n().sign(e,r,t)}function i(e){try{let t=process.env.JWT_SECRET;return n().verify(e,t)}catch(e){return console.log(e),null}}},87786:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(11185),n=r.n(s);let a=new(n()).Schema({name:{type:String,required:!0},email:{type:String,required:!0,unique:!0},password:{type:String,required:!0},designation:{type:String,default:""},avatar:{type:Object,default:{}},age:{type:String,default:""},location:{type:String,default:""},about:{type:String,default:""}},{timestamps:!0}),i=n()?.models?.User||n().model("User",a)},61261:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s={src:"/_next/static/media/demo_image.b782db56.jpg",height:400,width:600,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAUACAMBIgACEQEDEQH/xAAnAAEBAAAAAAAAAAAAAAAAAAAABwEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAAo4P/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/9oACAEBAAE/AH//xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oACAECAQE/AH//xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oACAEDAQE/AH//2Q==",blurWidth:8,blurHeight:5}},57481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(70337);let n=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},67272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,223,987,123,867],()=>r(71704));module.exports=s})();