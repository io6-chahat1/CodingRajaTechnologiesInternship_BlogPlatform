(()=>{var e={};e.id=851,e.ids=[851],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},87298:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=r(50482),a=r(69108),l=r(62563),i=r.n(l),o=r(68300),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);r.d(t,n);let c=["",{children:["create-blog",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,28999)),"C:\\Users\\prena\\OneDrive\\Desktop\\CodingRajaTechnologiesInternship_BloggingPlatform\\app\\create-blog\\page.jsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,78753)),"C:\\Users\\prena\\OneDrive\\Desktop\\CodingRajaTechnologiesInternship_BloggingPlatform\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,98211)),"C:\\Users\\prena\\OneDrive\\Desktop\\CodingRajaTechnologiesInternship_BloggingPlatform\\app\\not-found.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\prena\\OneDrive\\Desktop\\CodingRajaTechnologiesInternship_BloggingPlatform\\app\\create-blog\\page.jsx"],u="/create-blog/page",h={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/create-blog/page",pathname:"/create-blog",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},30182:(e,t,r)=>{Promise.resolve().then(r.bind(r,75699)),Promise.resolve().then(r.bind(r,10339))},40348:(e,t,r)=>{Promise.resolve().then(r.bind(r,83497))},72392:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,26840,23)),Promise.resolve().then(r.t.bind(r,38771,23)),Promise.resolve().then(r.t.bind(r,13225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,43982,23))},69265:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,61476,23))},75699:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(95344),a=r(47674);let l=({children:e,session:t})=>s.jsx(a.SessionProvider,{session:t,children:e})},83497:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(95344),a=r(3729),l=r(47674),i=r(91276);r(56506);var o=r(8428),n=r(20839);r(61261);var c=r(89410);let d={title:"",description:"",excerpt:"",quote:"",category:"",photo:""},u=()=>{let[e,t]=(0,a.useState)(d),[r,u]=(0,a.useState)(""),[h,p]=(0,a.useState)(""),[g,A]=(0,a.useState)(!1),x=(0,o.useRouter)(),{data:m,status:j}=(0,l.useSession)();if("loading"===j)return s.jsx("p",{children:"loading..."});if("unauthenticated"===j)return s.jsx("p",{children:"Access denied"});let f=r=>{u("");let{name:s,value:a,type:l,files:i}=r.target;"file"===l?t({...e,[s]:i[0]}):t({...e,[s]:a})};console.log(m);let b=async t=>{t.preventDefault();let{photo:r,title:s,category:a,description:l,excerpt:i,quote:o}=e;if(!s||!l||!a||!i||!o){u("Please fill out all required fields.");return}if(r&&r.size>5242880){u("File size is too large. Please select a file under 5MB.");return}if(s.length<4){u("Title must be at least 4 characters long.");return}if(l.length<20){u("Description must be at least 20 characters long.");return}if(i.length<10){u("Excerpt must be at least 10 characters long.");return}if(o.length<6){u("Quote must be at least 6 characters long.");return}try{A(!0),u(""),p("");let e=await v(),t={title:s,description:l,excerpt:i,quote:o,category:a,image:e,authorId:m?.user?._id},r=await fetch("http://localhost:3000/api/blog",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${m?.user?.accessToken}`},method:"POST",body:JSON.stringify(t)});r?.status===201?(p("Blog created successfully."),setTimeout(()=>{x.refresh(),x.push("/blog")},1500)):u("Error occurred while creating blog.")}catch(e){console.log(e),u("Error occurred while creating blog.")}A(!1)},v=async()=>{if(!e.photo)return;let t=new FormData;t.append("file",e.photo),t.append("upload_preset","nextjs_blog_images");try{let e=await fetch("https://api.cloudinary.com/v1_1/dycn5ws3u/image/upload",{method:"POST",body:t}),r=await e.json();return{id:r.public_id,url:r.secure_url}}catch(e){console.log(e)}};return(0,s.jsxs)("section",{className:"container max-w-3xl",children:[(0,s.jsxs)("h2",{className:"mb-5",children:[s.jsx("span",{className:"special-word",children:"Create"})," Blog"]}),(0,s.jsxs)("form",{onSubmit:b,className:"space-y-5",children:[s.jsx(i.Z,{label:"Title",type:"text",name:"title",placeholder:"Write you title here...",onChange:f,value:e.title}),s.jsx(n.Z,{label:"Description",rows:"4",name:"description",placeholder:"Write you description here...",onChange:f,value:e.description}),s.jsx(n.Z,{label:"Excerpt",rows:"2",name:"excerpt",placeholder:"Write you excerpt here...",onChange:f,value:e.excerpt}),s.jsx(n.Z,{label:"Quote",rows:"2",name:"quote",placeholder:"Write you quote here...",onChange:f,value:e.quote}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block",children:"Select an option"}),(0,s.jsxs)("select",{name:"category",onChange:f,value:e.category,className:"block rounded-lg w-full p-3 bg-primaryColorLight",children:[s.jsx("option",{value:"Food Blogs",children:"Food Blogs"}),s.jsx("option",{value:"Travel Blogs",children:"Travel Blogs"}),s.jsx("option",{value:"Health & Fitness Blogs",children:"Health & Fitness Blogs"}),s.jsx("option",{value:"Tech Blogs",children:"Tech Blogs"}),s.jsx("option",{value:"Nature Blogs",children:"Nature Blogs"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Upload Image"}),s.jsx("input",{onChange:f,type:"file",name:"photo",accept:"image/*"}),e.photo&&s.jsx("div",{children:s.jsx(c.default,{src:URL.createObjectURL(e.photo),priority:!0,alt:"Sample image",width:0,height:0,sizes:"100vw",className:"w-32 mt-5"})})]}),r&&s.jsx("div",{className:"text-red-700",children:r}),h&&s.jsx("div",{className:"text-green-700",children:h}),s.jsx("button",{type:"submit",className:"btn",children:g?"Loading...":"Create"})]})]})}},91276:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(95344);r(3729);let a=({type:e,value:t,onChange:r,name:a,label:l,placeholder:i})=>(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{children:l}),s.jsx("input",{type:e,value:t,onChange:r,name:a,placeholder:i,className:"w-full bg-primaryColorLight p-3 rounded-lg"})]})},10339:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(95344),a=r(3729),l=r(56506),i=r(89410),o=r(61261),n=r(90981),c=r(8428),d=r(47674);let u=()=>{let[e,t]=(0,a.useState)({}),{data:r,status:u}=(0,d.useSession)(),h=(0,c.usePathname)(),[p,g]=(0,a.useState)(!1);async function A(){try{let e=await fetch(`http://localhost:3000/api/user/${r?.user?._id}`),s=await e.json();t(s)}catch(e){console.log(e)}}(0,a.useEffect)(()=>{A()},[r?.user?._id]);let x=()=>g(e=>!1);return(0,s.jsxs)("div",{className:"container py-2 h-16 flex items-center justify-between",children:[s.jsx(l.default,{href:"/",children:(0,s.jsxs)("h2",{children:["Chahat ",s.jsx("span",{className:"special-word",children:"Blog."})]})}),(0,s.jsxs)("ul",{className:"flex items-center gap-3",children:[s.jsx("li",{children:s.jsx(l.default,{href:"/blog",className:"/blog"===h?"text-primaryColor font-bold":"",children:"Blog"})}),r?.user?(0,s.jsxs)(s.Fragment,{children:[s.jsx("li",{children:s.jsx(l.default,{href:"/create-blog",className:"/create-blog"===h?"text-primaryColor font-bold":"",children:"Create"})}),s.jsx("li",{children:(0,s.jsxs)("div",{className:"relative",children:[s.jsx(i.default,{onClick:()=>g(e=>!0),src:e?.avatar?.url?e?.avatar?.url:o.default,alt:"avatar",width:0,height:0,sizes:"100vw",className:"w-10 h-10 rounded-full cursor-pointer"}),p&&(0,s.jsxs)("div",{className:"absolute top-0 right-0 bg-primaryColorLight p-5",children:[s.jsx(n.oHP,{onClick:x,className:"w-full cursor-pointer"}),s.jsx("button",{onClick:()=>{(0,d.signOut)(),x()},children:"Logout"}),s.jsx(l.default,{onClick:x,href:`/user/${r?.user?._id.toString()}`,children:"Profile"})]})]})})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("li",{children:s.jsx(l.default,{href:"/login",className:"/login"===h?"text-primaryColor font-bold":"",children:"Log In"})}),s.jsx("li",{children:s.jsx(l.default,{href:"/signup",className:"/signup"===h?"text-primaryColor font-bold":"",children:"Sign Up"})})]})]})]})}},20839:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(95344);r(3729);let a=({rows:e,value:t,onChange:r,name:a,label:l,placeholder:i})=>(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{children:l}),s.jsx("textarea",{rows:e,value:t,onChange:r,name:a,placeholder:i,className:"w-full bg-primaryColorLight p-3 rounded-lg"})]})},28999:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>i});let s=(0,r(86843).createProxy)(String.raw`C:\Users\prena\OneDrive\Desktop\CodingRajaTechnologiesInternship_BloggingPlatform\app\create-blog\page.jsx`),{__esModule:a,$$typeof:l}=s,i=s.default},78753:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m,metadata:()=>x});var s=r(25036),a=r(52842),l=r.n(a);r(67272);var i=r(86843);let o=(0,i.createProxy)(String.raw`C:\Users\prena\OneDrive\Desktop\CodingRajaTechnologiesInternship_BloggingPlatform\components\Navbar.jsx`),{__esModule:n,$$typeof:c}=o,d=o.default;r(40002);let u=()=>(0,s.jsxs)("div",{className:"py-10 text-center",children:["Copyright \xa9 2024 All rights reserved.",s.jsx("br",{}),"This website is made with ♡ by Chahat Rajput."]}),h=(0,i.createProxy)(String.raw`C:\Users\prena\OneDrive\Desktop\CodingRajaTechnologiesInternship_BloggingPlatform\app\AuthProvider.js`),{__esModule:p,$$typeof:g}=h,A=h.default,x={title:"Blog Platform",description:"Generated by create next app"};function m({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:l().className,children:(0,s.jsxs)(A,{children:[s.jsx(d,{}),e,s.jsx(u,{})]})})})}},98211:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(25036);r(40002);var a=r(16274);let l=()=>(0,s.jsxs)("div",{className:"container h-screen flex flex-col gap-5 justify-center items-center",children:[s.jsx("h2",{children:"Not Found"}),s.jsx("p",{children:"Could not find requested resource"}),s.jsx(a.default,{href:"/",children:"Return Home"})]})},61261:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s={src:"/_next/static/media/demo_image.b782db56.jpg",height:400,width:600,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAUACAMBIgACEQEDEQH/xAAnAAEBAAAAAAAAAAAAAAAAAAAABwEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAAo4P/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/9oACAEBAAE/AH//xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oACAECAQE/AH//xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oACAEDAQE/AH//2Q==",blurWidth:8,blurHeight:5}},57481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(70337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},67272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,223],()=>r(87298));module.exports=s})();